{% load staticfiles %}
{% load compress %}
<!DOCTYPE html>
<!--[if lt IE 7]><html ng-controller="PageCtrl" ng-app="detective" class="no-js ie lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>   <html ng-controller="PageCtrl" ng-app="detective" class="no-js ie lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>   <html ng-controller="PageCtrl" ng-app="detective" class="no-js ie lt-ie9"> <![endif]-->
<!--[if gt IE 8]><html ng-controller="PageCtrl" ng-app="detective" class="no-js ie"> <![endif]-->
<!--[if !IE]>--> <html ng-app="detective" class="no-js">   <!-- <![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title ng-bind="Page.title() + ' - Detective.io'">{{ meta.title }}</title>
        <meta name="description" content="{{ meta.description | striptags }}">
        <!-- facebook & google+ meta data -->
        <meta property="og:url" content="{{ meta.url }}">
        <meta property="og:title" content="{{ meta.title }}">
        <meta property="og:description" content="{{ meta.description | striptags }}">
        {% for picture_url in meta.pictures %}
            <meta property="og:image" content="{{ picture_url }}">
        {% endfor %}

        <meta name="viewport" id="viewport" content="width=480px, maximum-scale=1, user-scalable=no">
        <script>
          (function(doc) {
              var viewport = doc.getElementById('viewport');
              if ( navigator.userAgent.match(/iPad/i) ) {
                viewport.setAttribute("content", "width=992px, maximum-scale=1, user-scalable=no");
              }
          }(document));
        </script>

        <link rel="dns-prefetch" href="{% static '' %}">
        <link rel="icon" type="image/png" href="{% static 'img/favicon.ico' %}">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <link href="//fonts.googleapis.com/css?family=Noto+Sans:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
        <link href="//code.cdn.mozilla.net/fonts/fira.css" rel="stylesheet" type="text/css">

        {% block extracss %}{% endblock %}
        <base href="{% url 'main' %}">

        <script type="text/javascript">
            window.STATIC_URL = "{% static '' %}";
        </script>

        <!-- Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-26208352-7', 'auto');
        </script>

        <!-- Vendors -->
        {% compress js %}
            <!-- bower:js -->
            <script src="{% static 'vendors/modernizr/modernizr.js' %}"></script>
            <script src="{% static 'vendors/jquery/dist/jquery.js' %}"></script>
            <script src="{% static 'vendors/angular/angular.js' %}"></script>
            <script src="{% static 'vendors/angular-cookies/angular-cookies.js' %}"></script>
            <script src="{% static 'vendors/angular-elastic/elastic.js' %}"></script>
            <script src="{% static 'vendors/nanoscroller/bin/javascripts/jquery.nanoscroller.js' %}"></script>
            <script src="{% static 'vendors/angular-nanoscroller/scrollable.js' %}"></script>
            <script src="{% static 'vendors/angular-resource/angular-resource.js' %}"></script>
            <script src="{% static 'vendors/angular-animate/angular-animate.js' %}"></script>
            <script src="{% static 'vendors/angular-route/angular-route.js' %}"></script>
            <script src="{% static 'vendors/angular-sanitize/angular-sanitize.js' %}"></script>
            <script src="{% static 'vendors/angular-truncate/src/truncate.js' %}"></script>
            <script src="{% static 'vendors/angular-ui-bootstrap-bower/ui-bootstrap-tpls.js' %}"></script>
            <script src="{% static 'vendors/angular-ui-router/release/angular-ui-router.js' %}"></script>
            <script src="{% static 'vendors/bootstrap/dist/js/bootstrap.js' %}"></script>
            <script src="{% static 'vendors/chroma-js/index.js' %}"></script>
            <script src="{% static 'vendors/d3/d3.js' %}"></script>
            <script src="{% static 'vendors/FileSaver/FileSaver.js' %}"></script>
            <script src="{% static 'vendors/jquery.scrollTo/jquery.scrollTo.js' %}"></script>
            <script src="{% static 'vendors/js-md5/js/md5.js' %}"></script>
            <script src="{% static 'vendors/kartograph.js/index.js' %}"></script>
            <script src="{% static 'vendors/ng-file-upload/angular-file-upload-shim.js' %}"></script>
            <script src="{% static 'vendors/ng-file-upload/angular-file-upload.js' %}"></script>
            <script src="{% static 'vendors/ngprogress-lite/ngprogress-lite.js' %}"></script>
            <script src="{% static 'vendors/raphael/raphael.js' %}"></script>
            <script src="{% static 'vendors/typeahead.js/dist/typeahead.bundle.js' %}"></script>
            <script src="{% static 'vendors/underscore/underscore.js' %}"></script>
            <script src="{% static 'vendors/textAngular/dist/textAngular.min.js' %}"></script>
            <script src="{% static 'vendors/rangy/rangy-core.js' %}"></script>
            <script src="{% static 'vendors/gsap/src/uncompressed/TweenMax.js' %}"></script>
            <script src="{% static 'vendors/ScrollMagic/js/jquery.scrollmagic.js' %}"></script>
            <script src="{% static 'vendors/jquery-waypoints/waypoints.js' %}"></script>
            <script src="{% static 'vendors/SHA-1/sha1.js' %}"></script>
            <script src="{% static 'vendors/ng-embedly/ng-embedly.js' %}"></script>
            <script src="{% static 'vendors/speakingurl/speakingurl.min.js' %}"></script>
            <script src="{% static 'vendors/angular-ui-utils/validate.js' %}"></script>
            <script src="{% static 'vendors/angular-local-storage/dist/angular-local-storage.js' %}"></script>
            <!-- endbower -->
            <script src="{% static 'vendors/angulartics/dist/angulartics.min.js' %}"></script>
            <script src="{% static 'vendors/angulartics/dist/angulartics-ga.min.js' %}"></script>
            <script src="{% static 'vendors/jsPlumb/dist/js/dom.jsPlumb-1.6.4-min.js' %}"></script>
        {% endcompress %}
    </head>
    <body ng-cloak="" ng-class="{ 'is-home': $state.is('home.tour'), 'show-aside': Page.showAside  }">
        <div plan-overfill-displayer=""></div>
        <div http-error-displayer=""></div>

        {% block content %}{% endblock %}
        {% block extrajs %}{% endblock %}
    </body>
</html>
